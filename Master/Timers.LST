C51 COMPILER V9.52.0.0   TIMERS                                                            05/15/2018 17:33:27 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE TIMERS
OBJECT MODULE PLACED IN Timers.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Timers.c LARGE BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          #include <c8051f020.h>
   2          
   3          #include "Timers.h"
   4          
   5          #define SYSCLK 22118400L
   6          
   7          void Config_Timer2 (void){
   8   1        TR2 = 0; //D√©sactivation du Timer2 ; Bit2 du registre T2CON
   9   1        
  10   1        CKCON &= ~0x20; //CLK_Timer2 = sysclk/12 ; Mise √† '0' du bit 5 du registre CKCON, les autres bits sont √
             -† '1' 
  11   1        
  12   1        TF2 = 0; //Aucun flag d'Overflow
  13   1        EXF2 = 0; //Aucun flag extern d'Overflow, pour √©viter une interruption intempestive
  14   1        //Configuration du mode 1 de Timer2 : 
  15   1        RCLK0 = 0;
  16   1        TCLK0 = 0;
  17   1        
  18   1        T2CON &= ~(0x03);
  19   1        //Configuration en mode Timer
  20   1        EXEN2 = 0; //D√©validation de l'entr√©e T2EX
  21   1      
  22   1        //Programmation des registres de rechargement 
  23   1        RCAP2L = 0x00;
  24   1        RCAP2H = 0x00;
  25   1      
  26   1        //Initialisation des registres de comptage du Timer 
  27   1        TL2 = 0xFF;
  28   1        TH2 = 0xFF;
  29   1      
  30   1        //Haute priorit√©e du Timer2 
  31   1        PT2 = 1; //Bit 5 du registre IP
  32   1      
  33   1        //Activation des interruption
  34   1        ET2 = 1; //Bit 5 du registre IE
  35   1        
  36   1        TR2 = 1;
  37   1      }
  38          
  39          void Config_timer0(void){
  40   1        CKCON = ~0x28;
  41   1        TR0 = 0;
  42   1        TF0 = 0;
  43   1        TMOD &= 0xF0; 
  44   1      }
  45          
  46          void initialisation_Timer0(void){
  47   1        TR0 = 0;
  48   1        TF0 = 0; // Flag Timer2 Low  
  49   1        TL0 = 0x00;//Timer2 √† 0.
  50   1        TH0 = 0x00;
  51   1      }
  52          


C51 COMPILER V9.52.0.0   TIMERS                                                            05/15/2018 17:33:27 PAGE 2   

MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     57    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
